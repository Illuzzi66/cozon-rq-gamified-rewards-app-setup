
### Requirements
Cozon RQ is a gamified rewards app where users earn coins through various activities:
- Complete tasks (Simple, Medium, Weekly)
- Spin a daily wheel for rewards
- Interact with memes (like/comment)
- Watch video ads
- Withdraw earnings via Paystack ($5 minimum)
- Upgrade to Premium ($2) for 2.5× earnings and instant withdrawals
- Premium users can post memes (earn 5¢ per post, must watch ad to upload)
- Free users can only like and comment on memes (comments visible to all)

### Designs
- Clean, gamified UI with purple/blue/green color scheme
- Gold coin animations and confetti effects
- Premium badge with glow effects
- Mobile-first responsive design

### Tasks
- [x] Database setup and authentication
- [x] Spin Wheel with daily limits and rewards
- [x] Tasks system (Simple/Medium/Weekly)
  - [x] Add validation logic to prevent instant task completion
  - [x] Require actual actions before tasks can be completed
  - [x] Validate referrals, ad watches, spins, profile completion, and engagement
- [x] Meme Feed with interactions
- [x] Video ads integration
- [x] Wallet and withdrawals
- [x] Premium upgrade system
- [x] Enhanced spin wheel system
  - [x] Update database schema for spins_available and new reward types
  - [x] Modify wheel segments with monetary rewards ($0.50, $2) and loss outcomes
  - [x] Create spin history display component
  - [x] Update spin logic to handle spins as currency and mixed reward types
  - [x] Add visual indicators for different reward types
  - [x] Add ways to earn spins (watch ads, complete tasks, daily bonuses)
  - [x] Remove possible rewards section from spin wheel page
  - [x] Convert wheel to circular SVG form with 5-second spin duration
  - [x] Separate watch ads for coins and watch ads for spins
  - [x] Integrate watch ad for spins into spin wheel page
  - [x] Remove standalone watch-ads-spins page and route
  - [x] Add 24-hour countdown for daily bonus spins (2 spins)
  - [x] Create daily bonus system with spin rewards
  - [x] Add spin purchase option with coins (50 coins per spin)
  - [x] Enhanced countdown timer display with visual improvements
  - [x] Add sound effects for spin wheel (spin, win, lose, bonus)
  - [x] Fix ad reward claim button functionality
    - [x] Add loading state to prevent double-claiming
    - [x] Add disabled state visual feedback
    - [x] Improve error handling and user feedback
    - [x] Add sound effect when claiming reward
    - [x] Remove setTimeout delay for immediate spin update
    - [x] Fix database response handling for boolean values
    - [x] Add proper type checking for RPC responses
    - [x] Ensure spin wheel animation completes properly
- [x] Profile page with user settings
  - [x] Create profile page layout with user info display
  - [x] Add profile picture upload functionality
  - [x] Implement name/username edit feature
  - [x] Add password change functionality
  - [x] Add notification preferences
  - [x] Implement sign out functionality
- [x] Account management features
  - [x] Add account deletion option
    - [x] Create account deletion confirmation dialog
    - [x] Implement account deletion backend logic
    - [x] Add delete account button to profile page
  - [x] Create referral code display and sharing
  - [x] Display referral statistics (successful referrals count and earnings)
  - [x] Build activity log/history page
    - [x] Create activity history database view/query
    - [x] Build activity log page component
    - [x] Add navigation to activity log from profile
    - [x] Add date range filtering for activities
    - [x] Show total earnings summary for filtered date range
- [x] Premium-only meme posting with earnings
  - [x] Update meme posting to require premium status
  - [x] Add watch ad requirement before meme upload
  - [x] Award 5¢ per successful meme post
  - [x] Update meme feed UI to show post button only for premium users
  - [x] Add premium upgrade prompt for free users attempting to post
  - [x] Display meme author usernames in feed
  - [x] Add meme moderation/reporting system
  - [x] Show user's posted memes in profile
- [x] Admin dashboard and meme management
  - [x] Add admin role to user profiles
  - [x] Create admin dashboard page
  - [x] Display reported memes with details
  - [x] Implement meme deletion by admins
  - [x] Allow users to delete their own memes
- [x] Analytics and statistics dashboard
  - [x] Create analytics page with earnings overview
  - [x] Add visual charts for earnings trends
  - [x] Display activity breakdown by type
  - [x] Show performance metrics and goals
- [x] AdMob integration for monetization
  - [x] Set up AdMob configuration
  - [x] Create ad display components
  - [x] Integrate banner ads in key pages
  - [x] Add interstitial ads for high-value actions
  - [x] Implement rewarded video ads
- [x] Username availability checker
  - [x] Add real-time username availability check during signup
  - [x] Display visual feedback (available/taken/checking)
  - [x] Debounce API calls for performance
- [x] Enhanced signup validation
  - [x] Use red/green colors for validation feedback
  - [x] Add email availability check
  - [x] Implement username format validation (alphanumeric, no spaces)
  - [x] Add username suggestions when taken
  - [x] Create password strength requirements tooltip
- [x] Remember me functionality on login
- [x] Advanced ad timing and withdrawal system
  - [x] Track comment count and show ad after 5 comments
  - [x] Show ad after 5 minutes of app usage
  - [x] Show ad before premium users post memes
  - [x] Update coin-to-dollar conversion (1500 coins = $1)
  - [x] Set minimum withdrawal to 7500 coins ($5)
- [x] Ad frequency capping and admin controls
  - [x] Add ad frequency limits (max ads per hour/day)
  - [x] Track last ad shown timestamp
  - [x] Create admin settings page for ad parameters
  - [x] Allow admins to configure ad timing thresholds
  - [x] Add admin controls for coin conversion rates
- [x] User management features
  - [x] Add ban/suspend user functionality
  - [x] Create user status management UI
  - [x] Implement account suspension with duration
  - [x] Add ban reason tracking
  - [x] Create unban functionality with reason tracking
- [x] Withdrawal approval system
  - [x] Update withdrawal database schema for approval workflow
  - [x] Create withdrawal request queue for admins
  - [x] Add approve/reject withdrawal actions
  - [x] Implement withdrawal status tracking
  - [x] Update wallet page to show withdrawal status
- [x] Leaderboard system
  - [x] Create leaderboard database views
  - [x] Build leaderboard UI (daily/weekly/all-time)
  - [x] Add user ranking display
  - [x] Implement leaderboard rewards
- [x] Notification history page
  - [x] Create notifications database table
  - [x] Build notification history UI
  - [x] Add notification filtering and search
  - [x] Implement mark as read functionality
- [x] Initial signup bonus
  - [x] Award welcome bonus coins on signup
  - [x] Update signup flow to show bonus notification
- [x] Notification triggers and push notifications
  - [x] Create database triggers for important events
  - [x] Set up push notification infrastructure
  - [x] Implement notification sending for withdrawals
  - [x] Add notifications for rewards and achievements
  - [x] Build real-time notification delivery system
- [x] Comprehensive duplicate prevention system
  - [x] Add database triggers to prevent rapid-fire duplicates
  - [x] Implement row-level locking in critical functions
  - [x] Add client-side state guards and user feedback
  - [x] Create debounce/throttle utilities
  - [x] Add time-window protection (2-5 seconds based on action type)
  - [x] Enhanced error messages for duplicate attempts
- [x] Ad earnings persistence fix
  - [x] Update WatchAds component to wait for database confirmation
  - [x] Revert optimistic updates on errors
  - [x] Add proper error handling and user feedback
  - [x] Ensure profile refresh after successful database sync
- [x] Remove error alerts from all pages
  - [x] Dashboard page
  - [x] Spin Wheel page
  - [x] Tasks page
  - [x] Watch Ads page
  - [x] Wallet page
  - [x] Meme Feed page
  - [x] Post Meme page
  - [x] Premium page
  - [x] Profile page